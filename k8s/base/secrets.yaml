# Kubernetes Secrets Template
# IMPORTANT: This is a template. In production, use:
# 1. External Secrets Operator (recommended)
# 2. HashiCorp Vault
# 3. AWS Secrets Manager / Azure Key Vault / GCP Secret Manager
# 4. Sealed Secrets

apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
type: Opaque
stringData:
  # PostgreSQL credentials (base64 encoded in production)
  POSTGRES_USER: postgres
  POSTGRES_PASSWORD: changeme_in_production
  DB_HOST: postgres-service
  DB_PORT: "5432"
  IAM_DB_NAME: iam_db
  BUSINESS_DB_NAME: business_db

---
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
type: Opaque
stringData:
  REDIS_PASSWORD: changeme_in_production
  REDIS_HOST: redis-service
  REDIS_PORT: "6379"

---
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-secrets
type: Opaque
stringData:
  KEYCLOAK_ADMIN_USER: admin
  KEYCLOAK_ADMIN_PASSWORD: changeme_in_production
  KEYCLOAK_CLIENT_SECRET: changeme_in_production
  KEYCLOAK_ISSUER_URI: http://keycloak-service:8180/realms/enterprise
  KEYCLOAK_JWK_SET_URI: http://keycloak-service:8180/realms/enterprise/protocol/openid-connect/certs

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: application-config
data:
  # Environment-specific configurations
  ENVIRONMENT: production

  # Tracing configuration
  TRACING_SAMPLE_RATE: "0.01"  # 1% for production
  ZIPKIN_ENDPOINT: http://zipkin-service:9411/api/v2/spans

  # Feign logging configuration
  FEIGN_LOGGER_LEVEL: "NONE"  # NONE for production to reduce I/O overhead

  # Consul configuration
  CONSUL_HOST: consul-service
  CONSUL_PORT: "8500"

  # Kafka configuration (if needed)
  KAFKA_BOOTSTRAP_SERVERS: kafka-service:9092
